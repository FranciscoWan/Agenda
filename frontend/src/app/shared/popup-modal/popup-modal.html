@if(popupService.topPopup){

  @if(popupService.popups().length >= 1){
    <div 
      class="fixed inset-0 bg-black/20 backdrop-blur-sm z-40"
      (click)="popupService.cancelAction()">
    </div>
  }

  <div class="fixed inset-0 flex items-center justify-center z-50 pointer-events-none">

    <div 
      class="bg-gray-900 text-white rounded-xl shadow-xl p-6 w-96 border animate-fade-in pointer-events-auto"
      [ngClass]="borderClasses()"
      (click)="$event.stopPropagation()">

      <h3 class="text-lg font-semibold">
        {{ title() }}
      </h3>

      <p class="mt-3 text-gray-300">
        {{ popupService.topPopup.message }}
      </p>

      @if(popupService.topPopup.isConfirm){
        <!-- Modo confirmação -->
        <div class="flex gap-3 mt-5">
          <button 
            (click)="popupService.cancelAction()"
            class="w-full bg-gray-700 hover:bg-gray-600 transition rounded-md py-2 font-semibold cursor-pointer">
            Cancelar
          </button>

          <button 
            (click)="popupService.confirmAction()"
            class="w-full bg-red-600 hover:bg-red-500 transition rounded-md py-2 font-semibold cursor-pointer">
            Confirmar
          </button>
        </div>
      }
      @else {
        <!-- Modo informativo -->
        <button 
          (click)="popupService.closeBottom()"
          class="mt-5 w-full transition duration-300 rounded-md py-2 font-semibold cursor-pointer"
          [ngClass]="buttonClasses()">
          OK
        </button>
      }

    </div>
  </div>
}